---
import Base from "@layouts/Base.astro";
import Header from "@components/Header.astro";
import PostSkeleton from "@components/blog/PostSkeleton.astro";

import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const posts = await getCollection("blogs");
  return posts.map((post) => ({
    params: { blog: post.id },
    props: { post },
  }));
}

const { post } = Astro.props;
const { title, description, thumb, keywords } = post.data;
---

<Base {title} {description} image={thumb?.src ?? ""} keywords={keywords}>
  <Header />
  <PostSkeleton post={post} />
</Base>
